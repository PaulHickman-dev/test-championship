!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,(function(r){return t[r]}).bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s="dqSs")}({dqSs:function(t,r,e){"use strict";e.r(r);var n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function o(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function i(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout(function(){throw t})}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},p=Array.isArray||function(t){return t&&"number"==typeof t.length};function f(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,r){return r+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}f.prototype=Object.create(Error.prototype);var l=f,h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,r=!1;if(!this.closed){var e=this._parent,n=this._parents,o=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u,c=-1,a=n?n.length:0;e;)e.remove(this),e=++c<a&&n[c]||null;if(i(o))try{o.call(this)}catch(h){r=!0,t=h instanceof l?b(h.errors):[h]}if(p(s))for(c=-1,a=s.length;++c<a;){var f=s[c];if(null!==(u=f)&&"object"==typeof u)try{f.unsubscribe()}catch(h){r=!0,t=t||[],h instanceof l?t=t.concat(b(h.errors)):t.push(h)}}if(r)throw new l(t)}},t.prototype.add=function(r){var e=r;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:if(!r)return t.EMPTY;throw new Error("unrecognized teardown "+r+" added to Subscription.")}if(e._addParent(this)){var o=this._subscriptions;o?o.push(e):this._subscriptions=[e]}return e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.prototype._addParent=function(t){var r=this._parent,e=this._parents;return r!==t&&(r?e?-1===e.indexOf(t)&&(e.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function b(t){return t.reduce(function(t,r){return t.concat(r instanceof l?r.errors:r)},[])}var d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),y=function(t){function r(e,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!e){i.destination=a;break}if("object"==typeof e){e instanceof r?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new v(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new v(i,e,n,o)}return i}return o(r,t),r.prototype[d]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parent,r=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=r,this},r}(h),v=function(t){function r(r,e,n,o){var s,u=t.call(this)||this;u._parentSubscriber=r;var c=u;return i(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==a&&(i((c=Object.create(e)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=n,u._complete=o,u}return o(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=u.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;c(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(e){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw e;c(e)}},r.prototype.__tryOrSetError=function(t,r,e){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(n){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(c(n),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(y),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function _(t){return t?1===t.length?t[0]:function(r){return t.reduce(function(t,r){return r(t)},r)}:w}var g=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof y)return t;if(t[d])return t[d]()}return t||r||e?new y(t,r,e):new y(a)}(t,r,e);if(o.add(n?n.call(o,this.source):this.source||u.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(t){for(;t;){var r=t.destination;if(t.closed||t.isStopped)return!1;t=r&&r instanceof y?r:null}return!0}(t)?t.error(r):console.warn(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=E(r))(function(r,n){var o;o=e.subscribe(function(r){try{t(r)}catch(e){n(e),o&&o.unsubscribe()}},n,r)})},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[m]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=E(t))(function(t,e){var n;r.subscribe(function(t){return n=t},function(t){return e(t)},function(){return t(n)})})},t.create=function(r){return new t(r)},t}();function E(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function S(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new x(t,r))}}var x=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new T(t,this.project,this.thisArg))},t}(),T=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return o(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(y),O=new g(function(t){return t.complete()});function j(t){return t?function(t){return new g(function(r){return t.schedule(function(){return r.complete()})})}(t):O}var P=function(t){return function(r){for(var e=0,n=t.length;e<n&&!r.closed;e++)r.next(t[e]);r.closed||r.complete()}};function M(t,r){return new g(r?function(e){var n=new h,o=0;return n.add(r.schedule(function(){o!==t.length?(e.next(t[o++]),e.closed||n.add(this.schedule())):e.complete()})),n}:P(t))}var D=function(){function t(t,r,e){this.kind=t,this.value=r,this.error=e,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,r,e){switch(this.kind){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return e&&e()}},t.prototype.accept=function(t,r,e){return t&&"function"==typeof t.next?this.observe(t):this.do(t,r,e)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e,n=t[t.length-1];switch((e=n)&&"function"==typeof e.schedule?t.pop():n=void 0,t.length){case 0:return j(n);case 1:return n?M(t,n):function(t){var r=new g(function(r){r.next(t),r.complete()});return r._isScalar=!0,r.value=t,r}(t[0]);default:return M(t,n)}}(this.value);case"E":return t=this.error,new g(function(r){return r.error(t)});case"C":return j()}throw new Error("unexpected notification kind value")},t.createNext=function(r){return void 0!==r?new t("N",r):t.undefinedValueNotification},t.createError=function(r){return new t("E",void 0,r)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),k=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new N(t))},t}(),N=function(t){function r(r){return t.call(this,r)||this}return o(r,t),r.prototype._next=function(t){t.observe(this.destination)},r}(y),H=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new L(t))},t}(),L=function(t){function r(r){return t.call(this,r)||this}return o(r,t),r.prototype._next=function(t){this.destination.next(D.createNext(t))},r.prototype._error=function(t){var r=this.destination;r.next(D.createError(t)),r.complete()},r.prototype._complete=function(){var t=this.destination;t.next(D.createComplete()),t.complete()},r}(y);var W=function(){return function(t,r,e,n,o,i,s){this.teams=t,this.penaltiesEffective=r,this.penalisedTies=e,this.unpenalisedTies=n,this.count=o,this.status=i,this.run=s}}(),A=function(){function t(){this.points=0,this.series=0}return t.prototype.value=function(){return 100*this.points+this.series},t}();e.d(r,"ResultsWorker",function(){return C});var V=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r.prototype.Max=function(t){return this.reduce(function(r,e){return t(r)>t(e)?r:e})},r}(Array),C=function(){function t(){}return t.prototype.work=function(t){var r=this;return t.pipe(S(function(t){return r.RunChampionship(t)}))},t.prototype.RunChampionship=function(t){var r,e;this.log=!1,this.report(JSON.stringify(t,null,1));for(var n=this.initialise(t),o=n.unpenalised,i=n.penalised,s=0,u=0,c=0,a=0;a<t.shard;a++){this.clear(t,o,i);for(var p=0;p<t.teams.length;p++)for(var f=0;f<t.teams.length;f++)this.runSeries(t,o,i,p,f);var l=void 0;l=(r=this.getWinners(i,t,s,!0)).out,s=r.ties;var h=void 0;h=(e=this.getWinners(o,t,u,!1)).out,u=e.ties,l.sort().join(",")!==h.sort().join(",")&&c++,this.log=!1}var b=new W(t.teams,c,s,u,t.count,"complete",t.run);return this.report(JSON.stringify(b,null,1)),b},t.prototype.initialise=function(t){for(var r=new V,e=new V,n=0;n<t.teams.length;n++)t.teams[n].penalisedWins=t.teams[n].unpenalisedWins=t.teams[n].penalties=0,r.push(new A),e.push(new A);return{unpenalised:e,penalised:r}},t.prototype.clear=function(t,r,e){for(var n=0;n<t.teams.length;n++)r[n].points=e[n].points=0,r[n].series=e[n].series=0},t.prototype.report=function(t){this.log&&console.log(t)},t.prototype.runSeries=function(t,r,e,n,o){var i=t.teams[n].matches[o];if(0!==i&&null!=i){var s=t.seriesPoints[i]/i,u=t.scalePenalties?.05*s:2,c=0,a=0;this.report(t.teams[n].name+" vs "+t.teams[o].name+" - "+i.toString()+" matches");for(var p=0;p<i;p++){var f=Math.random();f>=1-t.probabilities.draw/100?(e[n].points+=s/3,e[o].points+=s/3,r[n].points+=s/3,r[o].points+=s/3,t.teams[n].matchDraws++,t.teams[o].matchDraws++,this.report("  draw")):f>=1-t.probabilities.draw/100-t.probabilities.tie/100?(e[n].points+=s/2,e[o].points+=s/2,r[n].points+=s/2,r[o].points+=s/2,t.teams[n].matchTies++,t.teams[o].matchTies++,this.report("  tie")):f>=(1-t.probabilities.draw/100-t.probabilities.tie/100)*t.probabilities.away/100?(e[o].points+=s,r[o].points+=s,t.teams[n].matchLoss++,t.teams[o].matchWins++,a++,this.report("  "+t.teams[o].name+" win")):(e[n].points+=s,r[n].points+=s,t.teams[o].matchLoss++,t.teams[n].matchWins++,c++,this.report("  "+t.teams[n].name+" win"));for(var l=Math.random(),h=Math.random(),b=0;b<10;b++)h<t.probabilities.penalty[b]/100&&(e[o].points-=u,t.teams[o].penalties+=u,this.report("  "+t.teams[o].name+" slow over penalty")),l<t.probabilities.penalty[b]/100&&(e[n].points-=u,t.teams[n].penalties+=u,this.report("  "+t.teams[n].name+" slow over penalty"))}c>a?(e[n].series++,r[n].series++,t.teams[o].seriesLoss++,t.teams[n].seriesWins++):a>c?(e[o].series++,r[o].series++,t.teams[n].seriesLoss++,t.teams[o].seriesWins++):(t.teams[n].seriesDraws++,t.teams[o].seriesDraws++),this.report("  Result: "+t.teams[n].name+" "+c.toString()+"-"+a.toString()+" "+t.teams[o].name)}},t.prototype.getWinners=function(t,r,e,n){var o,i,s=new V,u=new V;if(this.log){console.log((n?"":"un")+"penalised standings:");for(var c=0;c<r.teams.length;c++)console.log("  "+r.teams[c].name+" "+t[c].points+" points, "+t[c].series+" series, value = "+t[c].value())}for(var a=t.Max(function(t){return t.value()}).value(),p=0,f=0;f<r.teams.length;f++)t[f].value()==a&&(p++,s.push(f),u.push(f));if(p>2)for(e++;p>2;){var l=Math.floor(Math.random()*p);s.splice(l,1),p--}if(p<2){var h=t.Max(function(t){return t.value()==a?-1e4:t.value()}).value(),b=0;for(f=0;f<r.teams.length;f++)t[f].value()==h&&(b++,s.push(f),u.push(f));if(b>1)for(e++;b>1;)l=1+Math.floor(Math.random()*b),s.splice(l,1),b--}try{for(var d=function(t){var r="function"==typeof Symbol&&t[Symbol.iterator],e=0;return r?r.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}(s),y=d.next();!y.done;y=d.next())c=y.value,n?r.teams[c].penalisedWins++:r.teams[c].unpenalisedWins++}catch(v){o={error:v}}finally{try{y&&!y.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return{out:u,ties:e}},function(t,r,e,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,r,e,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(r,e,s):o(r,e))||s);return i>3&&s&&Object.defineProperty(r,e,s),s}([function(t){!function(t){var r=function t(r,e,n,o){return i(n)&&(o=n,n=void 0),o?t(r,e,n).pipe(S(function(t){return p(t)?o.apply(void 0,t):o(t)})):new g(function(t){!function t(r,e,n,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(r)){var u=r;r.addEventListener(e,n,i),s=function(){return u.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(r)){var c=r;r.on(e,n),s=function(){return c.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(r)){var a=r;r.addListener(e,n),s=function(){return a.removeListener(e,n)}}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(var p=0,f=r.length;p<f;p++)t(r[p],e,n,o,i)}o.add(s)}(r,e,function(r){t.next(arguments.length>1?Array.prototype.slice.call(arguments):r)},t,n)})}(self,"message").pipe(S(function(t){return t.data}),S(function(t){return new D(t.kind,t.value,t.error)}),function(t){return t.lift(new k)},S(function(t){return t.payload})),e=new t;e.work(r).pipe(S(function(t){var r={payload:t};return function(t){return!!t.selectTransferables}(e)&&(r.transferables=e.selectTransferables(t)),r}),function(t){return t.lift(new H)}).subscribe(function(t){postMessage(t,t.hasValue?t.value.transferables:void 0)})}(t)}],t)}()}});